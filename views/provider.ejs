<%- include('header') %>
    <div class="container">
        <div class="breadcrumb"><a href="/">–ì–ª–∞–≤–Ω–∞—è</a> ‚Üí <a href="/providers">–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã</a> ‚Üí <%= provider.name %>
        </div>
        <div class="provider-detail">
            <div class="provider-detail__header">
                <div class="provider-logo provider-logo--lg"
                    style="background: hsl(<%= Math.abs(provider.slug.charCodeAt(0) * 37) % 360 %>, 70%, 60%)">
                    <%= provider.logo_hint_text || provider.name.substring(0,2).toUpperCase() %>
                </div>
                <div>
                    <h1>
                        <%= provider.name %>
                    </h1>
                    <div class="provider-detail__rating">‚≠ê <%= provider.rating.toFixed(1) %> <span>(<%=
                                    provider.rating_count %> –æ—Ç–∑—ã–≤–æ–≤)</span></div>
                    <a href="<%= provider.url %>" target="_blank" class="btn btn--outline btn--sm">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç ‚Üó</a>
                </div>
            </div>
            <div class="provider-detail__about">
                <h2>–û –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ</h2>
                <p>
                    <%= provider.about_short || '–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –∏ VPS/VDS –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –ª—é–±–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞.' %>
                </p>
            </div>
            <div class="provider-detail__info">
                <div class="info-item"><strong>–†–µ–≥–∏–æ–Ω—ã:</strong>
                    <%= provider.regions.join(', ') %></div>
      <div class="info-item"><strong>CPU:</strong> <%= provider.cpu_brands.join(' , ') %></div>
      <% if (provider.has_free_trial) { %><div class="info-item"><span class="badge badge--trial">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–µ—Å—Ç: <%= provider.trial_days %> –¥–Ω–µ–π</span></div><% } %>
      <% if (provider.promo_label) { %><div class="info-item"><span class="badge badge--promo"><%= provider.promo_label %> –¥–æ <%= provider.promo_until %></span></div><% } %>
    </div>
    <h2>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (<%= offers.length %>)</h2>
    <div class="offers-table-wrap">
      <table class="offers-table">
        <thead><tr><th>–¢–∞—Ä–∏—Ñ</th><th>vCPU</th><th>RAM</th><th>–î–∏—Å–∫</th><th>CPU</th><th>–ö–∞–Ω–∞–ª</th><th>–¶–µ–Ω–∞</th><th></th></tr></thead>
        <tbody>
          <% offers.forEach(function(o) { %>
          <tr>
            <td><a href="/offers/<%= o.id %>"><%= o.name %></a></td>
            <td><%= o.vcpu %></td><td><%= o.ram_gb %> –ì–ë</td>
            <td><%= (o.disk_system_type||' ssd').toUpperCase() %>
                        <%= o.disk_system_size_gb %> –ì–ë</td>
                            <td>
                                <%= o.cpu_brand %>
                                    <%= o.cpu_line %>
                            </td>
                            <td>
                                <%= o.bandwidth_mbps>= 1000 ? (o.bandwidth_mbps/1000)+' Gbps' : o.bandwidth_mbps+' Mbps'
                                    %>
                            </td>
                            <td><span class="price-old">
                                    <%= Math.round(o.market_price_month) %> ‚ÇΩ
                                </span> <strong class="price-promo">
                                    <%= Math.round(o.promo_price_month) %> ‚ÇΩ
                                </strong></td>
                            <td><button class="btn btn--primary btn--sm"
                                    onclick="openLeadModal('<%= o.provider_id %>','<%= o.id %>','<%= provider.name %>','<%= o.name %>','<%= Math.round(o.promo_price_month) %>')">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                            </td>
                            </tr>
                            <% }); %>
                                </tbody>
                                </table>
                </div>
                <% if (reviews.length> 0) { %>
                    <h2>–û—Ç–∑—ã–≤—ã (<%= reviewCount %>)</h2>
                    <div class="reviews-list">
                        <% reviews.forEach(function(r) { %>
                            <div class="review-card">
                                <div class="review-card__header"><strong>
                                        <%= r.user_display_name %>
                                    </strong><span class="review-card__role">
                                        <%= r.user_role %>
                                    </span><span class="review-card__rating">‚≠ê <%= r.rating.toFixed(1) %></span>
                                    <%= r.verified ? '<span class="badge badge--success">‚úì</span>' : '' %>
                                </div>
                                <h4>
                                    <%= r.title %>
                                </h4>
                                <% if(r.pros&&r.pros.length){ %>
                                    <div class="review-card__pros">‚úÖ <%= r.pros.join(', ') %></div><% } %>
        <% if(r.cons&&r.cons.length){ %><div class="review-card__cons">‚ùå <%= r.cons.join(' , ') %></div><% } %>
        <p><%= r.text %></p>
        <div class="review-card__meta">üëç <%= r.likes %> ¬∑ <%= r.use_case %> ¬∑ <%= r.created_at %></div>
      </div>
      <% }); %>
    </div>
    <% } %>
    <div class="cta__card" style="margin-top:2rem"><h3>–ü–æ–¥–æ–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä?</h3><a href="/servers" class="btn btn--primary">–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä ‚Üí</a></div>
  </div>
</div>
<%- include('footer') %>